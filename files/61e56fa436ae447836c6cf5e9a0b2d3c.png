<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1606px" height="625px" viewBox="-0.5 -0.5 1606 625"><defs><clipPath id="mx-clip-880-63-342-26-0"><rect x="880" y="63" width="342" height="26"/></clipPath><clipPath id="mx-clip-880-89-342-26-0"><rect x="880" y="89" width="342" height="26"/></clipPath><clipPath id="mx-clip-880-115-342-26-0"><rect x="880" y="115" width="342" height="26"/></clipPath><clipPath id="mx-clip-880-141-342-26-0"><rect x="880" y="141" width="342" height="26"/></clipPath><clipPath id="mx-clip-880-167-342-26-0"><rect x="880" y="167" width="342" height="26"/></clipPath><clipPath id="mx-clip-880-193-342-26-0"><rect x="880" y="193" width="342" height="26"/></clipPath><clipPath id="mx-clip-880-219-342-26-0"><rect x="880" y="219" width="342" height="26"/></clipPath><clipPath id="mx-clip-880-253-342-26-0"><rect x="880" y="253" width="342" height="26"/></clipPath><clipPath id="mx-clip-880-279-342-26-0"><rect x="880" y="279" width="342" height="26"/></clipPath><clipPath id="mx-clip-880-305-342-26-0"><rect x="880" y="305" width="342" height="26"/></clipPath><clipPath id="mx-clip-670-61-152-26-0"><rect x="670" y="61" width="152" height="26"/></clipPath><clipPath id="mx-clip-670-87-152-26-0"><rect x="670" y="87" width="152" height="26"/></clipPath><clipPath id="mx-clip-20-131-192-26-0"><rect x="20" y="131" width="192" height="26"/></clipPath><clipPath id="mx-clip-20-157-192-26-0"><rect x="20" y="157" width="192" height="26"/></clipPath><clipPath id="mx-clip-20-183-192-26-0"><rect x="20" y="183" width="192" height="26"/></clipPath><clipPath id="mx-clip-780-476-415-26-0"><rect x="780" y="476" width="415" height="26"/></clipPath><clipPath id="mx-clip-780-502-415-26-0"><rect x="780" y="502" width="415" height="26"/></clipPath><clipPath id="mx-clip-780-528-415-26-0"><rect x="780" y="528" width="415" height="26"/></clipPath><clipPath id="mx-clip-780-554-415-26-0"><rect x="780" y="554" width="415" height="26"/></clipPath><clipPath id="mx-clip-1253-476-332-40-0"><rect x="1253" y="476" width="332" height="40"/></clipPath><clipPath id="mx-clip-1253-516-332-34-0"><rect x="1253" y="516" width="332" height="34"/></clipPath><clipPath id="mx-clip-1253-550-332-26-0"><rect x="1253" y="550" width="332" height="26"/></clipPath><clipPath id="mx-clip-290-476-432-40-0"><rect x="290" y="476" width="432" height="40"/></clipPath><clipPath id="mx-clip-290-516-432-34-0"><rect x="290" y="516" width="432" height="34"/></clipPath><clipPath id="mx-clip-290-550-432-34-0"><rect x="290" y="550" width="432" height="34"/></clipPath><clipPath id="mx-clip-290-584-432-26-0"><rect x="290" y="584" width="432" height="26"/></clipPath><clipPath id="mx-clip-380-226-302-26-0"><rect x="380" y="226" width="302" height="26"/></clipPath><clipPath id="mx-clip-380-252-302-26-0"><rect x="380" y="252" width="302" height="26"/></clipPath><clipPath id="mx-clip-20-292-192-26-0"><rect x="20" y="292" width="192" height="26"/></clipPath><clipPath id="mx-clip-20-318-192-26-0"><rect x="20" y="318" width="192" height="26"/></clipPath><clipPath id="mx-clip-20-344-192-26-0"><rect x="20" y="344" width="192" height="26"/></clipPath></defs><g><path d="M 837.12 71 L 876 71" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 830.12 71 L 837.12 67.5 L 837.12 74.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1427.02 413.48 L 1426.18 366 Q 1426 356 1416 356 L 966 356 Q 956 356 946 356 L 486 356 Q 476 356 476.01 366 L 476.07 414.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1427.14 420.48 L 1423.52 413.55 L 1430.52 413.42 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 476.08 419.88 L 472.57 412.89 L 476.07 414.63 L 479.57 412.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 876 58 L 876 16 L 1226 16 L 1226 58" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 876 58 L 876 326 L 1226 326 L 1226 58" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 876 58 L 1226 58" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="1050.5" y="33.5">CompensateDealBillA</text><text x="1050.5" y="47.5">（补偿履约单聚合根）</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-880-63-342-26-0)" font-size="12px"><text x="881.5" y="75.5">+dealId（履约单号）: CompensateDealBillId</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-880-89-342-26-0)" font-size="12px"><text x="881.5" y="101.5">+compensateBillId(补偿单号): CompensateBillId</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-880-115-342-26-0)" font-size="12px"><text x="881.5" y="127.5">+returnId(下级单号): String</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-880-141-342-26-0)" font-size="12px"><text x="881.5" y="153.5">+compensateDealBillStateEnum(处理结果): Enum</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-880-167-342-26-0)" font-size="12px"><text x="881.5" y="179.5">+sendDealJson(履约下级请求信息): String</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-880-193-342-26-0)" font-size="12px"><text x="881.5" y="205.5">+msg(下级回复备注信息): String</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-880-219-342-26-0)" font-size="12px"><text x="881.5" y="231.5">+ compensateFeedbackV(回执信息): CompensateFeedbackV</text></g><path d="M 876 244 L 1226 244" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-880-253-342-26-0)" font-size="12px"><text x="881.5" y="265.5">+ init(): void</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-880-279-342-26-0)" font-size="12px"><text x="881.5" y="291.5">+ deal(处理)(CompensateDealBillService  service): CompensateDealBillA</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-880-305-342-26-0)" font-size="12px"><text x="881.5" y="317.5">+ feedback(下级反馈)(CompensateDealBillService  service): CompensateDealBillA</text></g><path d="M 1016.5 328 L 1016.03 414.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1016.01 419.88 L 1012.54 412.86 L 1016.03 414.63 L 1019.54 412.9 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 876 227 L 692.37 227" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 687.12 227 L 694.12 223.5 L 692.37 227 L 694.12 230.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 222.95 152 L 294.83 152 Q 304.83 152 304.85 162 L 304.98 224 Q 305 234 315 234 L 350.01 234" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 215.95 152 L 222.95 148.5 L 222.95 155.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 375.01 234 L 362.51 241.35 L 350.01 234 L 362.51 226.65 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 153px; margin-left: 244px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1</div></div></div></foreignObject></g><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 206px; margin-left: 306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1</div></div></div></foreignObject></g><path d="M 224.12 306 L 296 306 Q 306 306 306 296 L 306 270 Q 306 260 316 260 L 350.01 260" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 217.12 306 L 224.12 302.5 L 224.12 309.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 375.01 260 L 362.51 267.35 L 350.01 260 L 362.51 252.65 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 264px; margin-left: 308px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1</div></div></div></foreignObject></g><g transform="translate(-0.5 -0.5)"><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 306px; margin-left: 238px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; ">1</div></div></div></foreignObject></g><path d="M 666 56 L 666 16 L 826 16 L 826 56" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 666 56 L 666 108 L 826 108 L 826 56" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 666 56 L 826 56" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="745.5" y="33.5">CompensateDealBillId</text><text x="745.5" y="47.5">（补偿履约单唯一编码）</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-670-61-152-26-0)" font-size="12px"><text x="671.5" y="73.5">+dealId（履约单号）: Integer</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-670-87-152-26-0)" font-size="12px"><text x="671.5" y="99.5">+uuid（唯一标识）: String</text></g><path d="M 16 126 L 16 86 L 216 86 L 216 126" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 16 126 L 16 204 L 216 204 L 216 126" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 16 126 L 216 126" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="115.5" y="103.5">OrderReturnV</text><text x="115.5" y="117.5">（订单反馈值对象）</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-20-131-192-26-0)" font-size="12px"><text x="21.5" y="143.5">+subOid（订单号）: Long</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-20-157-192-26-0)" font-size="12px"><text x="21.5" y="169.5">+tag（订单标识）: int</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-20-183-192-26-0)" font-size="12px"><text x="21.5" y="195.5">+msg（备注信息）: String</text></g><path d="M 776 471 L 776 421 L 1199 421 L 1199 471" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 776 471 L 776 575 L 1199 575 L 1199 471" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 776 471 L 1199 471" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="987" y="438.5">«interface»</text><text x="987" y="452.5">CompensateDealBillRepository</text><text x="987" y="466.5">(售后补偿履约单-仓库)</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-780-476-415-26-0)" font-size="12px"><text x="781.5" y="488.5">+ find(CompensateDealBillId compensateDealBillId): CompensateDealBillA</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-780-502-415-26-0)" font-size="12px"><text x="781.5" y="514.5">+ save(CompensateDealBillA compensateDealBillA): CompensateDealBillA </text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-780-528-415-26-0)" font-size="12px"><text x="781.5" y="540.5">+ changeDealBill(CompensateDealBillA compensateDealBillA): void</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-780-554-415-26-0)" font-size="12px"><text x="781.5" y="566.5">+ 其他方法</text></g><path d="M 1249 471 L 1249 421 L 1589 421 L 1589 471" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1249 471 L 1249 571 L 1589 571 L 1589 471" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 1249 471 L 1589 471" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="1418.5" y="438.5">«interface»</text><text x="1418.5" y="452.5">CompensateDealBillDomainService</text><text x="1418.5" y="466.5">(售后补偿履约单-领域服务)</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1253-476-332-40-0)" font-size="12px"><text x="1254.5" y="488.5">+ deal(CompensateDealBillA compensateDealBillA): </text><text x="1254.5" y="502.5">CompensateDealBillA</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1253-516-332-34-0)" font-size="12px"><text x="1254.5" y="528.5">+ feedback(CompensateDealBillA compensateDealBillA):</text><text x="1254.5" y="542.5"> CompensateDealBillA</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-1253-550-332-26-0)" font-size="12px"><text x="1254.5" y="562.5">+ 其他方法</text></g><path d="M 286 471 L 286 421 L 726 421 L 726 471" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 286 471 L 286 605 L 726 605 L 726 471" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 286 471 L 726 471" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="505.5" y="438.5">«interface»</text><text x="505.5" y="452.5">CompensateDealBillFactory</text><text x="505.5" y="466.5">(售后补偿履约单-工厂)</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-290-476-432-40-0)" font-size="12px"><text x="291.5" y="488.5">+ createCompensateBillA(DealBillCreateCommand dealBillCreateCommand): </text><text x="291.5" y="502.5">CompensateDealBillA</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-290-516-432-34-0)" font-size="12px"><text x="291.5" y="528.5">+ orderCompensateBillA(OrderFeedbackEvent orderEvent, CompensateDealBillRepository repository):</text><text x="291.5" y="542.5"> CompensateDealBillA</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-290-550-432-34-0)" font-size="12px"><text x="291.5" y="562.5">+ refundCompensateBillA(RefundFeedbackEvent event, CompensateDealBillRepository repository):</text><text x="291.5" y="576.5"> CompensateDealBillA</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-290-584-432-26-0)" font-size="12px"><text x="291.5" y="596.5">+ 其他方法</text></g><path d="M 376 221 L 376 181 L 686 181 L 686 221" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 376 221 L 376 273 L 686 273 L 686 221" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 376 221 L 686 221" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="530.5" y="198.5">CompensateFeedbackStrategyV</text><text x="530.5" y="212.5">（补偿反馈处理值对象）</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-380-226-302-26-0)" font-size="12px"><text x="381.5" y="238.5">+orderReturnV（订单反馈信息）: OrderReturnV</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-380-252-302-26-0)" font-size="12px"><text x="381.5" y="264.5">+refundV（退款反馈信息）: RefundV</text></g><path d="M 16 287 L 16 247 L 216 247 L 216 287" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 16 287 L 16 365 L 216 365 L 216 287" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 16 287 L 216 287" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="115.5" y="264.5">RefundV</text><text x="115.5" y="278.5">（退款反馈值对象）</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-20-292-192-26-0)" font-size="12px"><text x="21.5" y="304.5">+batchNo（退款批次号）: String</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-20-318-192-26-0)" font-size="12px"><text x="21.5" y="330.5">+state（退款状态）: Integer</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-20-344-192-26-0)" font-size="12px"><text x="21.5" y="356.5">+msg（退款备注）: String</text></g></g></svg>